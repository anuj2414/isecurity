{% extends 'base.html' %}

{% block title %} Home {% endblock title %}
{% block homeactive %} active {% endblock homeactive %}
{% block body %}

<div class="container-fluid my-2">
    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
            <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://source.unsplash.com/1600x400/?computer,programming" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Check here how your website works</h5>
                    <p><b>there are two type of website one is normal website and another is abnormal website</b>.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://source.unsplash.com/1600x400/?computer,technology" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Check here how your website works</h5>
                    <p><b>there are two type of website one is normal website and another is abnormal website</b>.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://source.unsplash.com/1600x400/?computer,hacking" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Check here how your website works</h5>
                    <p><b>there are two type of website one is normal website and another is abnormal website</b>.</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
<div class="container-fluid my-3">
    <div class="jumbotron text-center">
        <h1 class="display-4">Welcome To Cyber-Security!</h1>
        <p class="lead">This is a simple webiste which checks weather the website is normal or abnormal</p>
        <hr class="my-4">
        <p>To check what is normal website and what is abnormal website go to blog page.</p>
        <a class="btn btn-primary btn-lg" href="/blog" role="button">go to blog</a>
    </div>
</div>

{% if request.user.is_authenticated %}

<div class="container py-2" style="border:solid">
    <h2> Check your website by giving some value:</h2>
    <div class="col-lg-6" text>
        <form action = "/check" method="post">
            {% csrf_token %}
            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">duration</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="value1" name="value1" placeholder="vlaue" required>
                    <div class="invalid-feedback">please enter correct value <br>
                    <ul>
                        <li>enter only Integer number</li>
                        <li>Number should be 1-3 lenght</li>
                    </ul></div>
                </div>
            </div>

            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">protocol_type</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="value2" name="value2" placeholder="vlaue" title="please input value" required>
                    <div class="invalid-feedback">please enter correct value <br>
                        <ul>
                            <li>enter only Integer number</li>
                            <li>Number should be 1-3 lenght</li>
                        </ul></div>
                </div>
            </div>
            {% if a %} 
                 {{ a1}} 
            {% endif%} 

            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">service</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="value3" name="value3" placeholder="vlaue" title="Three letter country code" required>
                    <div class="invalid-feedback">please enter correct value <br>
                        <ul>
                            <li>enter only Integer number</li>
                            <li>Number should be 1-3 lenght</li>
                        </ul></div>
                </div>
            </div>

            {% if a1 %} 
                 {{ a12}} 
            {% endif%} 
            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">flag</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="value4" name="value4" placeholder="vlaue"  title="Three letter country code" required>
                    <div class="invalid-feedback">please enter correct value <br>
                        <ul>
                            <li>enter only Integer number</li>
                            <li>Number should be 1-3 lenght</li>
                        </ul></div>
                </div>
            </div>
            {% if a2 %} 
                 {{ a21}} 
            {% endif%} 
            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">src_type</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="value5" name="value5" placeholder="vlaue" required>
                    <div class="invalid-feedback">please enter correct value <br>
                        <ul>
                            <li>enter only Integer number</li>
                            <li>Number should be 1-3 lenght</li>
                        </ul></div>
                </div>
            </div>

            
            <div class="form-group row">
                <label for="inputPassword" class="col-sm-2 col-form-label">dct_byte</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" id="value6" name="value6" placeholder="vlaue" required>
                    <div class="invalid-feedback">please enter correct value <br>
                        <ul>
                            <li>enter only Integer number</li>
                            <li>Number should be 1-3 lenght</li>
                        </ul></div>
                </div>
            </div>

            <button class="btn btn-primary">view results</button>
        </form>
    </div>
</div>



<!-- start javascript authentication -->
<script>

    const num1 = document.getElementById('value1');
    const num2 = document.getElementById('value2');
    const num3 = document.getElementById('value3');
    const num4 = document.getElementById('value4');
    const num5 = document.getElementById('value5');
    const num6 = document.getElementById('value6');

    let validNum1 = false;
    let validNum2 = false;
    let validNum3 = false;
    let validNum4 = false;
    let validNum5 = false;
    let validNum6 = false;

    num1.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num1.value;

        if(reg.test(number)){
            num1.classList.remove('is-invalid');
            validNum1 = true;
        }
        else{
            num1.classList.add('is-invalid');
            validNum1 = false;

        }
        
    })

    num2.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num2.value;

        if(reg.test(number)){
            num2.classList.remove('is-invalid');
            validNum2 = true;
        }
        else{
            num2.classList.add('is-invalid');
            validNum2 = false;
        }
    })

    num3.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num3.value;

        if(reg.test(number)){
            num3.classList.remove('is-invalid');
            validNum3 = true;
        }
        else{
            num3.classList.add('is-invalid');
            validNum3 = false;

        }
    })

    num4.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num4.value;

        if(reg.test(number)){
            num4.classList.remove('is-invalid');
            validNum4 = true;
        }
        else{
            num4.classList.add('is-invalid');
            validNum4 = false;

        }
    })

    num5.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num5.value;

        if(reg.test(number)){
            num5.classList.remove('is-invalid');
            validNum5 = true;
        }
        else{
            num5.classList.add('is-invalid');
            validNum5 = false;

        }
    })

    num6.addEventListener('blur', () =>{
        let reg = /^([0-9]){1,3}$/
        let number = num6.value;
       
        if(reg.test(number)){
            num6.classList.remove('is-invalid');
            validNum6 = true;
        }
        else{
            num6.classList.add('is-invalid');
            validNum6 = false;

        }
    })

    let submit = document.getElementById('submit');
    submit.addEventListener('click', (e) =>{
        e.preventDefault();
        console.log(validNum1,validNum2,validNum3,validNum4,validNum5,validNum6);
        if(validNum1 && validNum2 && validNum3 && validNum4 && validNum5 && validNum6)
        {
            
    
        }
        
        else{
            
        }

    })

</script>

<!-- end javascript authentication -->

<!-- <form name="myForm">
    <label for="firstname">Age: </label>
    <input name="num" type="text" id="username" size="1">
    <input type="submit" value="Login" onclick="return validateForm()">

function validateForm()
{

    var z = document.forms["myForm"]["num"].value;
    if(!z.match(/^\d+/))
        {
        alert("Please only enter numeric characters only for your Age! (Allowed input:0-9)")
        }
} -->


{% else%}
<div class="container text-center">

    <div class="alert alert-danger" role="alert">
        please login for analysis your website.
    </div>
    <button type="button" class="btn btn-primary btn-lg mr-2" data-toggle="modal" data-target="#LoginModal">
        Login Here
    </button>
</div>
{% endif %}


<div class="container">

    <h2 class="my-4"> Recommend Post: </h2>
    <div class="row my-2">
        {% for post in allPosts %}

        <div class="col-md-6">
            <div
                class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                    <strong class="d-inline-block mb-2 text-success">Article by {{post.author}}</strong>
                    <h3 class="mb-0">{{post.title}}</h3>
                    <div class="mb-1 text-muted">{{post.timeStamp}}</div>
                    <p class="card-text mb-auto">{{post.content| truncatechars:150}}</p>
                    <a href="/blog/{{post.slug}}" class="stretched-link">Continue reading</a>
                </div>
                <div class="col-auto d-none d-lg-block">
                    <img src="https://source.unsplash.com/200x250/?computer,programming" class="bd-placeholder-img"
                        width="200" height="250" aria-label="Placeholder: Thumbnail" />
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:2 %}
    </div>
    <div class="row my-2">

        {% endif %}

        {% endfor %}


    </div>
    {% endblock body%}





















    <!--  <div class="container my-3">
    <h2>Recommend Post:</h2>
    {% for post in allPosts %}
    
    <div class="row no-gutters border rounded overflow-hidden flex-md-row my-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
            <strong class="d-inline-block mb-2 text-primary">Article by {{post.author}}</strong>
            <h3 class="mb-0">{{post.title}}</h3>
            <div class="mb-1 text-muted my-1">{{post.timeStamp}}</div>
            <p class="card-text mb-auto">{{post.content| truncatechars:500}}</p>
                <div class="my-2">
            <a href="/blog/{{post.slug}}" role="button" class="btn btn-primary">Continue reading</a>
        </div>
        <div class="col-auto d-none d-lg-block">
        </div>
    </div>
</div>
    {% endfor %}-->